<div class="grid md:grid-cols-3 gap-6">
    {% for tier in tiers %}
        {# CRITICAL FIX: Only render if a variant is assigned to prevent URL errors #}
        {% if tier.variant %}
            {# === DYNAMIC STYLING LOGIC === #}
            {% if tier.css_class == 'guild-member' %}
                {% with border_color='border-blue-700' text_color='text-blue-400' text_color_light='text-blue-500' button_bg='bg-blue-600' button_text_color='text-white' dist_bg='bg-blue-900/10' %}
                    {% include "awakening/partials/_tier_card.html" %}
                {% endwith %}
            {% elif tier.css_class == 'raid-leader' %}
                {% with border_color='border-purple-700' text_color='text-yellow-400' text_color_light='text-purple-400' button_bg='bg-yellow-600' button_text_color='text-black' dist_bg='bg-purple-900/10' %}
                    {% include "awakening/partials/_tier_card.html" %}
                {% endwith %}
            {% else %} 
                {# Default: Party Leader (Green) #}
                {% with border_color='border-green-900' text_color='text-green-400' text_color_light='text-green-500' button_bg='bg-green-600' button_text_color='text-black' dist_bg='bg-green-900/10' %}
                    {% include "awakening/partials/_tier_card.html" %}
                {% endwith %}
            {% endif %}
        {% endif %}
    {% endfor %}
</div>
```

To make the above refactoring work, I will create a new partial template named `_tier_card.html`. This file will contain the actual HTML for a single tier card, and it will be included by the main `step_2_offers.html` file. This eliminates all the duplicated code.

Here is the new file `awakening/templates/awakening/partials/_tier_card.html`:

```diff
--- /dev/null
+++ b/d:/GitHub/JH_Motiv_LTD_Django_Repo/awakening/templates/awakening/partials/_tier_card.html
@@ -0,0 +1,45 @@
{#
    This is a partial template for a single tier card.
    It expects the following context variables to be defined by the parent:
    - tier
    - border_color
    - text_color
    - text_color_light
    - button_bg
    - button_text_color
    - dist_bg
#}
<div class="relative border {{ border_color }} bg-black/50 p-6 flex flex-col"
     x-data="{ keep: 1, total: {{ tier.quantity }} }">

    <div class="flex-grow">
        <h3 class="text-xl font-bold text-white">{{ tier.name }}</h3>
        <div class="text-xs {{ text_color_light }} mb-2">{{ tier.quantity }} UNITS</div>

        {% if tier.variant.product.featured_image %}
        <img src="{{ tier.variant.product.featured_image.url }}" alt="{{ tier.variant.product.name }}" class="my-4 w-full h-48 object-cover rounded-md border-2 border-gray-700">
        {% endif %}

        <div class="text-3xl font-mono {{ text_color }} mb-4">Â£{{ tier.total_price|floatformat:2 }}</div>

        <ul class="text-sm text-gray-300 space-y-2 mb-6">
            {% for perk in tier.perks.all %}
            <li class="flex items-start"><span class="{{ text_color }} mr-2">&gt;</span> {{ perk.text }}</li>
            {% endfor %}
        </ul>
    </div>

    {% if tier.quantity > 1 %}
    <div class="mb-6 p-4 border {{ border_color }} {{ dist_bg }}">
        <label class="block text-[10px] text-gray-400 uppercase mb-2">Distribution Protocol</label>
        <div class="flex items-center gap-4">
            <div class="flex-1">
                <span class="text-[10px] text-gray-500">KEEP</span>
                <input type="number" x-model.number="keep" min="1" :max="total"
                       class="w-full bg-transparent border-b {{ border_color }} text-white outline-none p-1">
            </div>
            <div class="flex-1 text-right">
                <span class="text-[10px] text-gray-500">DONATE</span>
                <div class="text-white pt-1" x-text="total - keep"></div>
            </div>
        </div>
    </div>
    {% endif %}

    <button class="w-full {{ button_bg }} {{ button_text_color }} py-2 font-bold mt-auto"
            hx-post="{% url 'awakening:step_3_checkout' tier.variant_id %}"
            hx-target="#step-container"
            hx-vals='js:{ "quantity": {{ tier.quantity }}, "keep_count": keep }'>
        &gt;&gt; EQUIP ITEM
    </button>
</div>