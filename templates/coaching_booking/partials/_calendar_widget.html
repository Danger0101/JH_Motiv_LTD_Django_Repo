<div class="calendar-container">
    
    <div class="calendar-header">
        <button 
            class="calendar-nav-btn" 
            hx-get="{% url 'coaching_booking:calendar_widget' %}?enrollment_id={{ enrollment_id }}&month={{ prev_month }}&year={{ prev_year }}"
            hx-target="#calendar-widget"
        >
            &larr;
        </button>
        
        <span class="calendar-month-title">{{ month_name }} {{ year }}</span>
        
        <button 
            class="calendar-nav-btn" 
            hx-get="{% url 'coaching_booking:calendar_widget' %}?enrollment_id={{ enrollment_id }}&month={{ next_month }}&year={{ next_year }}"
            hx-target="#calendar-widget"
        >
            &rarr;
        </button>
    </div>

    <div class="weekdays-grid">
        <div>Mon</div>
        <div>Tue</div>
        <div>Wed</div>
        <div>Thu</div>
        <div>Fri</div>
        <div>Sat</div>
        <div>Sun</div>
    </div>

    <div class="days-grid">
        {% for day in calendar_days %}
            {% if day.is_empty %}
                <div class="day-cell empty"></div>
            {% else %}
                <button 
                    type="button"
                    class="day-cell 
                           {% if day.is_available %}available{% else %}disabled{% endif %} 
                           {% if day.is_today %}today{% endif %}"
                    {% if day.is_available %}
                        hx-get="{% url 'coaching_booking:available_slots' %}?enrollment_id={{ enrollment_id }}&date={{ day.date_str }}"
                        hx-target="#time-slots-container"
                        _="on click remove .selected from .day-cell then add .selected to me"
                    {% else %}
                        disabled
                    {% endif %}
                >
                    {{ day.day }}
                </button>
            {% endif %}
        {% endfor %}
    </div>
</div>