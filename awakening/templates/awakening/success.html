{% extends "base.html" %}
{% block content %}
<div class="w-full text-center fade-in max-w-4xl mx-auto py-12 px-4">
    
    <h2 class="text-3xl md:text-5xl mb-4 font-bold {{ tier.color_class }} glitch-text" data-text="{{ tier.title }}">
        {{ tier.title }}
    </h2>
    <p class="text-white font-mono mb-8 opacity-80">> TRANSACTION_HASH: {{ order.id }}</p>

    <div class="relative w-full pb-[56.25%] mb-10 border-2 {{ tier.border_class }} shadow-[0_0_20px_rgba(0,255,0,0.2)] bg-black">
        <iframe 
            class="absolute top-0 left-0 w-full h-full"
            src="https://www.youtube.com/embed/{{ tier.video_id }}?autoplay=1&rel=0&modestbranding=1" 
            title="Transmission"
            frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
            allowfullscreen>
        </iframe>
    </div>

    <div class="bg-black/80 border {{ tier.border_class }} p-8 rounded-md text-left backdrop-blur-sm">
        <h3 class="text-xl text-white font-bold mb-4 border-b {{ tier.border_class }} pb-3 flex justify-between items-center">
            <span>MISSION UPDATE</span>
            <span class="text-xs font-mono {{ tier.color_class }}">STATUS: CONFIRMED</span>
        </h3>
        
        <p class="text-gray-300 text-lg leading-relaxed font-mono">
            {{ tier.message }}
        </p>
        
        <div class="mt-6 pt-4 border-t border-gray-800 text-sm text-gray-500 font-mono">
            <p>A confirmation signal has been sent to: <span class="text-white">{{ order.email }}</span></p>
        </div>
    </div>

    <div class="mt-12 flex justify-center space-x-6">
        <a href="{% url 'awakening:landing' %}" class="text-xs text-gray-500 hover:{{ tier.color_class }} transition-colors">
            < REBOOT TERMINAL
        </a>
        {% if user.is_authenticated %}
        <a href="#" class="text-xs text-gray-500 hover:{{ tier.color_class }} transition-colors">
            ACCESS DASHBOARD >
        </a>
        {% endif %}
    </div>
</div>

<style>
    /* Optional glitch effect for the title */
    .glitch-text {
        position: relative;
    }
    .glitch-text::before, .glitch-text::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    .glitch-text::before {
        left: 2px;
        text-shadow: -1px 0 red;
        clip: rect(24px, 550px, 90px, 0);
        animation: glitch-anim-2 3s infinite linear alternate-reverse;
    }
    .glitch-text::after {
        left: -2px;
        text-shadow: -1px 0 blue;
        clip: rect(85px, 550px, 140px, 0);
        animation: glitch-anim 2.5s infinite linear alternate-reverse;
    }
    @keyframes glitch-anim {
        0% { clip: rect(11px, 9999px, 81px, 0); }
        20% { clip: rect(66px, 9999px, 19px, 0); }
        40% { clip: rect(31px, 9999px, 78px, 0); }
        60% { clip: rect(85px, 9999px, 13px, 0); }
        80% { clip: rect(22px, 9999px, 63px, 0); }
        100% { clip: rect(54px, 9999px, 35px, 0); }
    }
    @keyframes glitch-anim-2 {
        0% { clip: rect(65px, 9999px, 100px, 0); }
        20% { clip: rect(10px, 9999px, 2px, 0); }
        40% { clip: rect(93px, 9999px, 33px, 0); }
        60% { clip: rect(2px, 9999px, 66px, 0); }
        80% { clip: rect(44px, 9999px, 11px, 0); }
        100% { clip: rect(72px, 9999px, 86px, 0); }
    }
</style>
{% endblock %}
