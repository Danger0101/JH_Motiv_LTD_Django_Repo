<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Invoice #{{ order.id }}</title>
    <style>
        /* CSS is embedded directly for PDF generation */
        body { font-family: sans-serif; font-size: 12px; color: #374151; }
        .invoice-container { width: 100%; margin: 0 auto; }
        .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 40px; }
        .header-left { font-weight: bold; font-size: 24px; }
        .header-right { text-align: right; }
        .invoice-details { display: flex; justify-content: space-between; margin-bottom: 40px; }
        .details-box { width: 48%; }
        .details-box h3 { font-size: 14px; margin-bottom: 10px; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; }
        .details-box p { line-height: 1.6; margin: 0; }
        .items-table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }
        .items-table th, .items-table td { border-bottom: 1px solid #e5e7eb; padding: 10px; text-align: left; }
        .items-table th { background-color: #f9fafb; font-weight: 600; }
        .items-table .text-right { text-align: right; }
        .summary { margin-left: auto; width: 40%; }
        .summary-table { width: 100%; }
        .summary-table td { padding: 5px; }
        .summary-table .summary-label { color: #6b7280; }
        .summary-table .summary-total td { font-weight: bold; font-size: 16px; border-top: 2px solid #111827; padding-top: 10px; }
        .footer { margin-top: 50px; text-align: center; color: #6b7280; font-size: 10px; }
    </style>
</head>
<body>
    <div class="invoice-container">
        <div class="header">
            <div class="header-left">JH Motiv</div>
            <div class="header-right">
                <h2>Invoice #{{ order.id }}</h2>
                <p>Date: {{ order.created_at|date:"F d, Y" }}</p>
            </div>
        </div>

        <div class="invoice-details">
            <div class="details-box">
                <h3>Billed To</h3>
                <p>
                    {{ order.user.get_full_name }}<br>
                    {{ order.user.email }}
                </p>
            </div>
            <div class="details-box">
                <h3>Pay To</h3>
                <p>
                    JH Motiv LTD<br>
                    123 Motivation Lane<br>
                    London, UK, SW1A 0AA
                </p>
            </div>
        </div>

        <table class="items-table">
            <thead>
                <tr>
                    <th>Description</th>
                    <th class="text-right">Amount</th>
                </tr>
            </thead>
            <tbody>
                {% for item in order.items.all %}
                <tr>
                    <td>{{ item.description }} (Qty: {{ item.quantity }})</td>
                    <td class="text-right">£{{ item.total_price|floatformat:2 }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="summary">
            <table class="summary-table">
                <tr class="summary-total">
                    <td class="summary-label">Total Paid</td>
                    <td class="text-right">£{{ order.total_paid|floatformat:2 }}</td>
                </tr>
            </table>
        </div>

        <div class="footer">
            <p>Thank you for your business!</p>
        </div>
    </div>
</body>
</html>