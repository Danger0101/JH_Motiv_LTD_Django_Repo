<div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2 pointer-events-none">
    
    {# 1. Standard Django Server Messages #}
    {% for message in messages %}
    <div x-data="{ show: true }" x-show="show" x-init="setTimeout(() => show = false, 5000)"
         class="pointer-events-auto p-4 rounded shadow-lg text-white transition transform duration-300
                {% if message.tags == 'success' %}bg-green-600{% elif message.tags == 'error' %}bg-red-600{% else %}bg-blue-600{% endif %}"
        role="alert"
    >
        {{ message }}
    </div>
    {% endfor %}

    {# 2. JavaScript / Client-side Messages #}
    <div x-data="toastManager" 
         @show-toast.window="add($event)" 
         class="space-y-2"
    >
        <template x-for="toast in toasts" :key="toast.id">
            <div x-show="isVisible(toast)"
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 translate-x-8"
                 x-transition:enter-end="opacity-100 translate-x-0"
                 x-transition:leave="transition ease-in duration-300"
                 x-transition:leave-start="opacity-100 translate-x-0"
                 x-transition:leave-end="opacity-0 translate-x-8"
                 class="pointer-events-auto p-4 rounded shadow-lg text-white font-mono border-2 border-white/20"
                 :class="{
                    'bg-green-600': toast.type === 'success',
                    'bg-red-600': toast.type === 'error',
                    'bg-blue-600': toast.type === 'info',
                    'bg-yellow-600': toast.type === 'warning'
                 }"
            >
                <div class="flex items-center">
                    <span class="mr-2 text-xl" x-text="toast.type === 'success' ? 'ğŸ†' : (toast.type === 'warning' ? 'âš¡' : 'ğŸ‘¾')"></span>
                    <span x-text="toast.message"></span>
                </div>
            </div>
        </template>
    </div>
</div>