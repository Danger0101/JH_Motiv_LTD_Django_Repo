<div class="w-full text-center fade-in">
    <h2 class="text-3xl md:text-4xl mb-2 font-bold text-white">CHOOSE YOUR CLASS</h2>
    <p class="text-green-500 font-mono mb-10">> SELECT_LOADOUT_CONFIGURATION</p>

    <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto text-left">
        
        {% for variant in variants %}
        <div class="relative group border border-green-900 bg-black/50 p-6 hover:border-green-500 hover:bg-green-900/10 transition-all duration-300 cursor-pointer"
             hx-get="{% url 'awakening:step_3_checkout' variant.id %}"
             hx-target="#terminal-stage"
             hx-swap="innerHTML transition:true">
            
            {% if forloop.counter == 2 %}
            <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-green-600 text-black text-[10px] font-bold px-2 py-0.5 uppercase tracking-widest">
                Recommended
            </div>
            {% endif %}

            <div class="text-xs text-gray-500 mb-2 uppercase tracking-widest">
                {% if forloop.counter == 1 %}CLASS: LONE_WOLF{% endif %}
                {% if forloop.counter == 2 %}CLASS: GUILD_MEMBER{% endif %}
                {% if forloop.counter == 3 %}CLASS: RAID_LEADER{% endif %}
            </div>

            <h3 class="text-xl font-bold text-white mb-1">{{ variant.name }}</h3>
            <div class="text-3xl font-mono text-green-400 mb-6">Â£{{ variant.price }}</div>

            <ul class="space-y-3 text-sm text-gray-400 font-mono mb-8">
                <li class="flex items-center"><span class="text-green-500 mr-2">[x]</span> Physical Manual</li>
                {% if "Community" in variant.name or "Mastermind" in variant.name %}
                <li class="flex items-center"><span class="text-green-500 mr-2">[x]</span> Guild Access (WhatsApp)</li>
                {% else %}
                <li class="flex items-center opacity-30"><span class="text-red-900 mr-2">[ ]</span> Guild Access (Locked)</li>
                {% endif %}

                {% if "Mastermind" in variant.name %}
                <li class="flex items-center"><span class="text-purple-400 mr-2">[x]</span> 1:1 Strategy Link</li>
                {% else %}
                <li class="flex items-center opacity-30"><span class="text-red-900 mr-2">[ ]</span> 1:1 Strategy Link</li>
                {% endif %}
            </ul>

            <button class="w-full border border-green-700 text-green-500 py-2 text-sm uppercase hover:bg-green-500 hover:text-black transition-colors group-hover:border-green-500">
                >> EQUIP ITEM
            </button>
        </div>
        {% empty %}
        <div class="col-span-3 text-red-500 border border-red-500 p-4">
            ERROR: NO_PRODUCTS_FOUND. Please create 'Stop Being an NPC' variants in Django Admin.
        </div>
        {% endfor %}

    </div>
    
    <button hx-get="{% url 'awakening:step_1_hook' %}" 
            hx-target="#terminal-stage" 
            class="mt-12 text-xs text-gray-600 hover:text-green-500">
        < ABORT AND RETURN
    </button>
</div>