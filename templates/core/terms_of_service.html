{% extends 'base.html' %}

{% block title %}Terms of Service{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-10">
        <h1 class="text-3xl font-extrabold text-gray-900 sm:text-4xl">
            Terms of Service
        </h1>
        <p class="mt-4 text-lg text-gray-500">Governing your use of JHMotiv.Shop</p>
    </div>

    <div x-data="tosTabs" class="mt-12">
        <div class="flex justify-center border-b border-gray-200 mb-8" role="tablist" aria-label="Terms of Service Versions">
            <button 
                x-data="policyButton" data-policy="retail" @click="select" :class="classes"
                class="w-1/3 py-4 px-1 text-center border-b-2 font-medium text-base focus:outline-none"
                id="retail-tos-tab"
                role="tab"
                aria-controls="retail-tos-panel"
                :aria-selected="isSelected"
            >
                Retail & General Use
            </button>
            <button 
                x-data="policyButton" data-policy="coaching" @click="select" :class="classes"
                class="w-1/3 py-4 px-1 text-center border-b-2 font-medium text-base focus:outline-none"
                id="coaching-tos-tab"
                role="tab"
                aria-controls="coaching-tos-panel"
                :aria-selected="isSelected"
            >
                Coaching Offering Terms
            </button>
            <button 
                x-data="policyButton" data-policy="dreamer" @click="select" :class="classes"
                class="w-1/3 py-4 px-1 text-center border-b-2 font-medium text-base focus:outline-none"
                id="dreamer-tos-tab"
                role="tab"
                aria-controls="dreamer-tos-panel"
                :aria-selected="isSelected"
            >
                Dreamer Affiliate Terms
            </button>
        </div>

        <div class="bg-white shadow-lg rounded-lg p-6 lg:p-10">

            <div x-data="policyPanel" data-policy="retail" x-show="isVisible" role="tabpanel" id="retail-tos-panel" aria-labelledby="retail-tos-tab">
                <h2 class="text-2xl font-bold mb-4">{{ tos_data.retail.title }}</h2>
                <p class="text-sm text-gray-600 mb-8">Effective Date: {{ tos_data.retail.effective_date }}</p>
                
                {% for section in tos_data.retail.sections %}
                    <section class="mb-8">
                        <h3 class="text-xl font-semibold mb-3">{{ section.heading }}</h3>
                        <div class="text-gray-700 leading-relaxed space-y-4">
                            {{ section.content|safe }}
                        </div>
                    </section>
                {% endfor %}
            </div>

            <div x-data="policyPanel" data-policy="coaching" x-show="isVisible" role="tabpanel" id="coaching-tos-panel" aria-labelledby="coaching-tos-tab" x-cloak>
                <h2 class="text-2xl font-bold mb-4">{{ tos_data.coaching.title }}</h2>
                <p class="text-sm text-gray-600 mb-8">Effective Date: {{ tos_data.coaching.effective_date }}</p>

                {% for section in tos_data.coaching.sections %}
                    <section class="mb-8">
                        <h3 class="text-xl font-semibold mb-3">{{ section.heading }}</h3>
                        <div class="text-gray-700 leading-relaxed space-y-4">
                            {{ section.content|safe }}
                        </div>
                    </section>
                {% endfor %}
            </div>

            <div x-data="policyPanel" data-policy="dreamer" x-show="isVisible" role="tabpanel" id="dreamer-tos-panel" aria-labelledby="dreamer-tos-tab" x-cloak>
                <h2 class="text-2xl font-bold mb-4">Dreamer Affiliate Program Terms</h2>
                <p class="text-sm text-gray-600 mb-8">Effective Date: October 26, 2023</p>

                <section class="mb-8">
                    <h3 class="text-xl font-semibold mb-3">1. Independent Contractor Status</h3>
                    <div class="text-gray-700 leading-relaxed space-y-4">
                        <p>As a Dreamer (Affiliate), you agree that you are an independent contractor and not an employee, agent, or partner of JH Motiv Ltd. You have no authority to create obligations on behalf of JH Motiv Ltd. You are solely responsible for reporting and paying all applicable taxes on commissions earned.</p>
                    </div>
                </section>

                <section class="mb-8">
                    <h3 class="text-xl font-semibold mb-3">2. Commissions and Payments</h3>
                    <div class="text-gray-700 leading-relaxed space-y-4">
                        <p>Commissions are earned on net sales (excluding shipping, taxes, and returns) generated through your unique affiliate code. Payments are processed monthly, subject to a minimum payout threshold. JH Motiv Ltd reserves the right to reverse commissions on refunded orders.</p>
                    </div>
                </section>

                <section class="mb-8">
                    <h3 class="text-xl font-semibold mb-3">3. Code of Conduct</h3>
                    <div class="text-gray-700 leading-relaxed space-y-4">
                        <p>You agree to represent the JH Motiv Ltd brand professionally. You shall not engage in spamming, misleading advertising, or bidding on JH Motiv Ltd trademarked keywords in paid search. Violation of these standards may result in immediate termination of your account and forfeiture of pending commissions.</p>
                    </div>
                </section>

                <section class="mb-8">
                    <h3 class="text-xl font-semibold mb-3">4. Termination</h3>
                    <div class="text-gray-700 leading-relaxed space-y-4">
                        <p>Either party may terminate this agreement at any time, with or without cause, by giving written notice. Upon termination, you must immediately cease using JH Motiv Ltd branding and remove all affiliate links.</p>
                    </div>
                </section>

                <section class="mb-8">
                    <h3 class="text-xl font-semibold mb-3">5. Limitation of Liability</h3>
                    <div class="text-gray-700 leading-relaxed space-y-4">
                        <p>JH Motiv Ltd will not be liable for indirect, special, or consequential damages arising in connection with this agreement or the affiliate program. Our aggregate liability arising with respect to this agreement will not exceed the total commissions paid or payable to you.</p>
                    </div>
                </section>
            </div>

        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
{{ block.super }}
<script nonce="{{ csp_nonce }}" defer>
    document.addEventListener('alpine:init', () => {
        Alpine.data('tosTabs', () => ({
            activePolicy: 'retail',
            init() {
                const params = new URLSearchParams(window.location.search);
                if (params.has('tab')) {
                    this.activePolicy = params.get('tab');
                }
            }
        }));

        Alpine.data('policyButton', () => ({
            policy: '',
            init() { this.policy = this.$el.dataset.policy; },
            get isSelected() { return this.activePolicy === this.policy; },
            get classes() {
                return this.isSelected ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300';
            },
            select() { this.activePolicy = this.policy; }
        }));

        Alpine.data('policyPanel', () => ({
            policy: '',
            init() { this.policy = this.$el.dataset.policy; },
            get isVisible() { return this.activePolicy === this.policy; }
        }));
    });
</script>
{% endblock %}