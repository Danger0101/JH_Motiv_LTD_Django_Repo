<div class="bg-white rounded-lg shadow overflow-hidden">
    <div class="flex items-center justify-between px-6 py-4 bg-gray-50 border-b border-gray-200">
        <h3 class="text-lg font-semibold text-gray-900">
            {{ current_date|date:"F Y" }}
        </h3>
        <div class="flex space-x-2">
            {% with params="year="|add:prev_year|add:"&month="|add:prev_month %}
                {% if enrollment_id %} {% with params=params|add:"&enrollment_id="|add:enrollment_id %}{% endwith %} {% endif %}
                {% if reschedule_booking_id %} {% with params=params|add:"&reschedule_booking_id="|add:reschedule_booking_id %}{% endwith %} {% endif %}
                
                <button hx-get="{% url 'coaching_booking:get_booking_calendar' %}?{{ params }}&enrollment_id={{ enrollment_id }}&reschedule_booking_id={{ reschedule_booking_id }}"
                        hx-target="#reschedule-calendar-container"
                        class="p-2 rounded-full hover:bg-gray-200 text-gray-600 transition">
                    &larr;
                </button>
            {% endwith %}
            
            <button hx-get="{% url 'coaching_booking:get_booking_calendar' %}?year={{ next_year }}&month={{ next_month }}&enrollment_id={{ enrollment_id }}&reschedule_booking_id={{ reschedule_booking_id }}"
                    hx-target="#reschedule-calendar-container"
                    class="p-2 rounded-full hover:bg-gray-200 text-gray-600 transition">
                &rarr;
            </button>
        </div>
    </div>

    <div class="grid grid-cols-7 border-b border-gray-200 bg-gray-100 text-xs font-semibold text-gray-500 uppercase tracking-wide text-center">
        <div class="py-2">Mon</div><div class="py-2">Tue</div><div class="py-2">Wed</div>
        <div class="py-2">Thu</div><div class="py-2">Fri</div><div class="py-2">Sat</div>
        <div class="py-2">Sun</div>
    </div>
    
    <div class="grid grid-cols-7 text-sm">
        {% for day in schedule %}
            <div class="relative h-20 border-b border-r border-gray-100 p-1
                        {% if not day.is_current_month %}bg-gray-50 text-gray-400{% endif %}">
                
                <span class="block text-right pr-2 text-xs">{{ day.number }}</span>
                
                {% if day.has_available %}
                    <div class="mt-1 text-center">
                        <button 
                            hx-get="{% url 'coaching_booking:get_daily_slots' %}?date={{ day.date|date:'Y-m-d' }}&enrollment_id={{ enrollment_id }}&reschedule_booking_id={{ reschedule_booking_id }}&coach_id={{ coach.id }}"
                            hx-target="#time-slots-column"
                            class="inline-block px-2 py-1 text-xs font-medium text-green-700 bg-green-100 rounded-full hover:bg-green-200 transition cursor-pointer">
                            Select
                        </button>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>