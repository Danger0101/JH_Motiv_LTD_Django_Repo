{% extends 'base.html' %}
{% load static %}

{% block title %}Frequently Asked Questions{% endblock %}

{% block extra_head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/core.css' %}">
{% endblock %}

{% block content %}
<div class="core-wrapper" style="max-width: 56rem;">
    <div class="core-header">
        <h1 class="core-title">Frequently Asked Questions</h1>
        <p class="core-subtitle">Can't find the answer you're looking for? Reach out to our support team.</p>
    </div>

    <div x-data="{ activeTab: 'retail' }">
        <div class="tab-nav" role="tablist" aria-label="FAQ Categories">
            <button 
                @click="activeTab = 'retail'"
                :class="{ 'active': activeTab === 'retail' }"
                class="tab-btn"
                style="width: 50%;"
                role="tab"
            >
                Retail & Products
            </button>
            <button 
                @click="activeTab = 'coaching'"
                :class="{ 'active': activeTab === 'coaching' }"
                class="tab-btn"
                style="width: 50%;"
                role="tab"
            >
                Coaching Services
            </button>
        </div>

        <div style="margin-top: 2rem;">
            <div x-data="{ openItem: null }"> 
                
                <div x-show="activeTab === 'retail'" class="content-panel">
                    <div class="faq-list">
                        {% for item in faq_data.retail %}
                            <div class="faq-item">
                                <h3>
                                    <button 
                                        @click="openItem = (openItem === 'retail-{{ forloop.counter }}' ? null : 'retail-{{ forloop.counter }}')"
                                        class="faq-button"
                                        :class="{ 'open': openItem === 'retail-{{ forloop.counter }}' }"
                                    >
                                        {{ item.q }}
                                        <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                </h3>
                                <div x-show="openItem === 'retail-{{ forloop.counter }}'" x-collapse class="faq-answer">
                                    {{ item.a|safe }} 
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <div x-show="activeTab === 'coaching'" class="content-panel" x-cloak>
                    <div class="faq-list">
                        {% for item in faq_data.coaching %}
                             <div class="faq-item">
                                <h3>
                                    <button 
                                        @click="openItem = (openItem === 'coaching-{{ forloop.counter }}' ? null : 'coaching-{{ forloop.counter }}')"
                                        class="faq-button"
                                        :class="{ 'open': openItem === 'coaching-{{ forloop.counter }}' }"
                                    >
                                        {{ item.q }}
                                        <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                </h3>
                                <div x-show="openItem === 'coaching-{{ forloop.counter }}'" x-collapse class="faq-answer">
                                    {{ item.a|safe }} 
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                
            </div> 
        </div>
    </div>
</div>
{% endblock %}