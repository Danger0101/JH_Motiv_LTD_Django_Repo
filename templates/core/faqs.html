{% extends 'base.html' %}
{% load static %}

{% block title %}Frequently Asked Questions{% endblock %}

{% block extra_head %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'css/core.css' %}">
{% endblock %}

{% block content %}
<div class="core-wrapper" style="max-width: 56rem;"> <div class="core-header">
        <h1 class="core-title">
            Frequently Asked Questions
        </h1>
        <p class="core-subtitle">Can't find the answer you're looking for? Reach out to our support team.</p>
    </div>

    <div x-data="{ activeTab: 'retail' }">
        <div class="tab-navigation" role="tablist" aria-label="FAQ Categories">
            <button 
                @click="activeTab = 'retail'"
                :class="{ 'active': activeTab === 'retail' }"
                class="tab-btn"
                style="width: 50%;"
                id="retail-tab"
                role="tab"
                aria-controls="retail-panel"
                :aria-selected="activeTab === 'retail'"
            >
                Retail & Products
            </button>
            <button 
                @click="activeTab = 'coaching'"
                :class="{ 'active': activeTab === 'coaching' }"
                class="tab-btn"
                style="width: 50%;"
                id="coaching-tab"
                role="tab"
                aria-controls="coaching-panel"
                :aria-selected="activeTab === 'coaching'"
            >
                Coaching Services
            </button>
        </div>

        <div style="margin-top: 2rem;">
            <div x-data="{ openItem: null }" role="presentation"> 
                
                <div x-show="activeTab === 'retail'" role="tabpanel" id="retail-panel" aria-labelledby="retail-tab" class="content-panel">
                    <div class="faq-stack">
                        {% for item in faq_data.retail %}
                            <div class="faq-card">
                                <h3 style="margin: 0;">
                                    <button 
                                        @click="openItem = (openItem === 'retail-{{ forloop.counter }}' ? null : 'retail-{{ forloop.counter }}')"
                                        :class="{ 'expanded': openItem === 'retail-{{ forloop.counter }}' }"
                                        class="faq-trigger"
                                        :aria-expanded="openItem === 'retail-{{ forloop.counter }}'"
                                        aria-controls="answer-retail-{{ forloop.counter }}"
                                        id="question-retail-{{ forloop.counter }}"
                                    >
                                        {{ item.q }}
                                        <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                </h3>

                                <div 
                                    x-show="openItem === 'retail-{{ forloop.counter }}'"
                                    x-collapse 
                                    class="faq-answer"
                                    role="region"
                                    aria-labelledby="question-retail-{{ forloop.counter }}"
                                    id="answer-retail-{{ forloop.counter }}"
                                >
                                    {{ item.a|safe }} 
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>

                <div x-show="activeTab === 'coaching'" role="tabpanel" id="coaching-panel" aria-labelledby="coaching-tab" class="content-panel" x-cloak>
                    <div class="faq-stack">
                        {% for item in faq_data.coaching %}
                             <div class="faq-card">
                                <h3 style="margin: 0;">
                                    <button 
                                        @click="openItem = (openItem === 'coaching-{{ forloop.counter }}' ? null : 'coaching-{{ forloop.counter }}')"
                                        :class="{ 'expanded': openItem === 'coaching-{{ forloop.counter }}' }"
                                        class="faq-trigger"
                                        :aria-expanded="openItem === 'coaching-{{ forloop.counter }}'"
                                        aria-controls="answer-coaching-{{ forloop.counter }}"
                                        id="question-coaching-{{ forloop.counter }}"
                                    >
                                        {{ item.q }}
                                        <svg class="faq-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                    </button>
                                </h3>

                                <div 
                                    x-show="openItem === 'coaching-{{ forloop.counter }}'"
                                    x-collapse 
                                    class="faq-answer"
                                    role="region"
                                    aria-labelledby="question-coaching-{{ forloop.counter }}"
                                    id="answer-coaching-{{ forloop.counter }}"
                                >
                                    {{ item.a|safe }} 
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                
            </div> </div>
    </div>
</div>
{% endblock %}