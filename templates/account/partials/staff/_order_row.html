<tr id="order-row-{{ order.id }}">
    <td class="px-6 py-4 whitespace-nowrap">
        <div class="text-sm font-medium text-gray-900">#{{ order.id }}</div>
        <div class="text-sm text-gray-500">{{ order.created_at|date:"d M Y" }}</div>
    </td>
    <td class="px-6 py-4 whitespace-nowrap">
        <div class="text-sm text-gray-900">
            {% if order.user %}
                {{ order.user.get_full_name|default:order.user.username }}
            {% else %}
                Guest
            {% endif %}
        </div>
        <div class="text-sm text-gray-500">{{ order.email }}</div>
    </td>
    <td class="px-6 py-4 whitespace-nowrap">
        {% with status=order.status|default:"processing" %}
            {% if status == 'shipped' or status == 'delivered' %}
                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                    {{ status|title }}
                </span>
            {% elif status == 'canceled' or status == 'refunded' %}
                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                    {{ status|title }}
                </span>
            {% else %}
                <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                    {{ status|title }}
                </span>
            {% endif %}
        {% endwith %}
    </td>
    <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
        <button hx-get="{% url 'accounts:staff_update_order' order.id %}"
                hx-target="#order-row-{{ order.id }}"
                hx-swap="outerHTML"
                class="text-indigo-600 hover:text-indigo-900">
            Edit
        </button>
    </td>
</tr>