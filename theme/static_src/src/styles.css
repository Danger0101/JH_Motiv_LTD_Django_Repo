@import "tailwindcss";
@source "../../../**/*.{html,py,js}";

@layer base {
    /* --- MATRIX MODE --- */
    /* Green text, Black background, Monospace font */
    .matrix body {
        @apply bg-black text-green-500 font-mono overflow-x-hidden;
    }
    
    /* Aggressively target all structural elements and those with backgrounds */
    .matrix div, .matrix section, .matrix article, .matrix header, .matrix footer, .matrix nav, .matrix aside, .matrix main,
    .matrix table, .matrix tr, .matrix th, .matrix td,
    .matrix input, .matrix textarea, .matrix select, .matrix button,
    .matrix [class*="bg-"], .matrix .card, .matrix .panel {
        background-color: #000000 !important;
        color: #22c55e !important; /* text-green-500 */
        border-color: #14532d !important; /* border-green-900 */
        box-shadow: none !important;
    }

    /* Force text and border colors on everything else */
    .matrix * {
        color: #22c55e !important;
        border-color: #14532d !important;
        fill: #22c55e !important; /* SVG icons */
    }

    .matrix h1, .matrix h2, .matrix h3, .matrix h4, .matrix h5, .matrix h6 {
        @apply !text-green-400 !uppercase !tracking-widest !font-mono;
        text-shadow: 0 0 5px #22c55e;
    }

    .matrix a {
        @apply !text-green-300 !underline !decoration-green-500;
    }
    .matrix a:hover {
        @apply !text-white;
    }

    .matrix input, .matrix textarea, .matrix select {
        @apply focus:!ring-green-500 focus:!border-green-500;
    }
    .matrix ::selection { @apply bg-green-900 text-green-100; }
    .matrix ::placeholder { @apply !text-green-800; }


    /* --- CYBERPUNK MODE --- */
    /* Neon Pink/Blue, Dark bg */
    .cyber body {
        @apply bg-gray-900 text-yellow-300 font-sans;
        background-image: linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a), 
                          linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a);
        background-size: 20px 20px;
        background-position: 0 0, 10px 10px;
    }

    .cyber div, .cyber section, .cyber article, .cyber header, .cyber footer, .cyber nav, .cyber aside, .cyber main,
    .cyber table, .cyber tr, .cyber th, .cyber td,
    .cyber input, .cyber textarea, .cyber select,
    .cyber [class*="bg-"], .cyber .card {
        background-color: #111827 !important; /* bg-gray-900 */
        color: #fde047 !important; /* text-yellow-300 */
        border-color: #ec4899 !important; /* border-pink-500 */
    }

    .cyber * {
        color: #fde047 !important;
        border-color: #ec4899 !important;
    }

    .cyber button, .cyber .btn {
        @apply !rounded-none !border-2 !border-yellow-400 !bg-purple-900 !text-yellow-400 !uppercase !font-bold !tracking-widest;
        box-shadow: 4px 4px 0px 0px rgba(250,204,21,1) !important;
    }
    .cyber button:hover, .cyber .btn:hover {
        @apply !bg-yellow-400 !text-purple-900;
    }

    .cyber input, .cyber textarea, .cyber select {
        @apply focus:!ring-pink-500 focus:!border-yellow-400;
    }
    .cyber ::selection { @apply bg-pink-500 text-white; }

    /* --- RETRO MODE --- */
    /* Sepia tones */
    .retro {
        filter: sepia(0.8) contrast(1.2);
    }
    .retro body {
        @apply bg-orange-100 text-amber-900;
        background-image: url("data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'%3E%3Cpath d='M5 0h1L0 6V5zM6 5v1H5z'/%3E%3C/g%3E%3C/svg%3E");
    }

    .retro div, .retro section, .retro article, .retro header, .retro footer, .retro nav, .retro aside, .retro main,
    .retro table, .retro tr, .retro th, .retro td,
    .retro input, .retro textarea, .retro select, .retro button,
    .retro [class*="bg-"] {
        background-color: #fff7ed !important; /* bg-orange-50 */
        color: #78350f !important; /* text-amber-900 */
        border-color: #b45309 !important;
        box-shadow: none !important;
    }

    .retro * {
        color: #78350f !important;
        border-color: rgba(120, 53, 15, 0.2) !important;
    }

    .retro input, .retro textarea, .retro select {
        @apply focus:!ring-amber-900;
    }
    .retro ::selection { @apply bg-amber-900 text-orange-100; }

    /* --- DOOM MODE --- */
    /* Red tint, shake effect */
    .doom body {
        @apply bg-red-900 text-red-100 border-[20px] border-red-900;
    }

    .doom div, .doom section, .doom article, .doom header, .doom footer, .doom nav, .doom aside, .doom main,
    .doom table, .doom tr, .doom th, .doom td,
    .doom input, .doom textarea, .doom select, .doom button,
    .doom [class*="bg-"] {
        background-color: #450a0a !important; /* bg-red-950 */
        color: #fecaca !important; /* text-red-200 */
        border-color: #991b1b !important; /* border-red-800 */
    }

    .doom * {
        color: #fecaca !important;
        border-color: #991b1b !important;
    }

    .doom img {
        @apply !grayscale !contrast-150;
    }

    .doom input, .doom textarea, .doom select {
        @apply focus:!ring-red-600;
    }
    .doom ::selection { @apply bg-red-900 text-red-100; }

    /* --- DEV MODE --- */
    /* Wireframe / Debug look */
    .devmode body {
        @apply bg-gray-900 text-green-400 font-mono;
    }
    
    .devmode * {
        outline: 1px dashed rgba(74, 222, 128, 0.3) !important;
    }

    .devmode div, .devmode section, .devmode article, .devmode header, .devmode footer, .devmode nav, .devmode aside, .devmode main,
    .devmode table, .devmode tr, .devmode th, .devmode td,
    .devmode input, .devmode textarea, .devmode select, .devmode button,
    .devmode [class*="bg-"] {
        background-color: #000000 !important;
        color: #4ade80 !important;
        border: 1px dashed #22c55e !important;
    }

    .devmode ::selection { @apply bg-green-900 text-green-400; }
}

/* Add Smooth Transitions globally */
html, body {
    @apply transition-colors duration-300 ease-in-out;
}
