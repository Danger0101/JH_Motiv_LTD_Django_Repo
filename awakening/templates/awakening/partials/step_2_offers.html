<div class="grid md:grid-cols-3 gap-6">
    {% for tier in tiers %}
    <div class="relative border border-green-900 bg-black/50 p-6" 
         x-data="{ keep: 1, total: {{ tier.quantity }} }">
        
        <h3 class="text-xl font-bold text-white">{{ tier.name }}</h3>
        <div class="text-xs text-green-500 mb-4">{{ tier.quantity }} UNITS</div>
        <div class="text-3xl font-mono text-green-400 mb-6">Â£{{ tier.price|floatformat:2 }}</div>

        {% if tier.quantity > 1 %}
        <div class="mb-6 p-4 border border-green-800 bg-green-900/10">
            <label class="block text-[10px] text-gray-400 uppercase mb-2">Distribution Protocol</label>
            <div class="flex items-center gap-4">
                <div class="flex-1">
                    <span class="text-[10px] text-gray-500">KEEP</span>
                    <input type="number" x-model.number="keep" min="1" :max="total" 
                           class="w-full bg-transparent border-b border-green-500 text-white outline-none p-1">
                </div>
                <div class="flex-1 text-right">
                    <span class="text-[10px] text-gray-500">DONATE</span>
                    <div class="text-white pt-1" x-text="total - keep"></div>
                </div>
            </div>
        </div>
        {% endif %}

        <button class="w-full bg-green-600 text-black py-2 font-bold"
                hx-post="{% url 'awakening:step_3_checkout' tier.variant_id %}"
                hx-target="#step-container"
                hx-vals='js:{ "quantity": {{ tier.quantity }}, "keep_count": keep }'>
            &gt;&gt; EQUIP ITEM
        </button>
    </div>
    {% endfor %}
</div>